<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link rel="stylesheet" type="text/css" href="./style.css?v=3" />
    <title>Document</title>
</head>
<body>
    <div id="change-rotate3d"></div>
    <div id="books" class="books">
        <article class="article-book">
          <div class="book">
            <div class="page cover-front">
              <div class="face front">
                <header>
                  <h1>כותרת המנגה</h1>
                </header>
              </div>
              <div class="face back"></div>
              <div class="face right"></div>
              <div class="face left"></div>
              <div class="face top"></div>
              <div class="face bottom"></div>
              <div class="face x"></div>
            </div>
            <div class="page cover-back">
              <div class="face front"></div>
              <div class="face back"></div>
              <div class="face right"></div>
              <div class="face left"></div>
              <div class="face top"></div>
              <div class="face bottom"></div>
              <div class="face x"></div>
            </div>
            <div class="page cover-right">
              <div class="face front"></div>
              <div class="face back"></div>
              <div class="face right"></div>
              <div class="face left"></div>
              <div class="face top"></div>
              <div class="face bottom"></div>
              <div class="face x"></div>
            </div>
            <div class="page one-page img-page">
              <div class="face front"></div>
              <div class="face back content">
                <img src="./img/demo.jpg" alt="" height="90%" width="90%">
              </div>
              <div class="face right"></div>
              <div class="face left"></div>
              <div class="face top"></div>
              <div class="face bottom"></div>
              <div class="face x"></div>
            </div>
            <div class="page one-page page-1">
              <div class="face front content">
                <main>
                  <h1>כותרת</h1>
                  <p>פרטים</p>
                </main>
              </div>
              <div class="face back"></div>
              <div class="face right"></div>
              <div class="face left"></div>
              <div class="face top"></div>
              <div class="face bottom"></div>
              <div class="face x"></div>
            </div>
        </div>
        </article>
      </div>

      <script>
        const oneBookPage = document.querySelector('.one-page');

        
        function loadChangeRotate3d() {
          // (A) FETCH
          fetch("./change-rotate3d.html?v=1")
        
          // (B) RETURN THE RESULT AS TEXT
          .then(res => {
            if (res.status != 200) { throw new Error("Bad Server Response"); }
            return res.text();
          })
        
          // (C) PUT LOADED CONTENT INTO <DIV>
          .then(html => document.getElementById("change-rotate3d").innerHTML = html)
        
          // (D) HANDLE ERRORS - OPTIONAL
          .catch(err => console.error(err));
        }
        loadChangeRotate3d();

        function changeRange(){
        const x = document.getElementById("rangeX").value;
        const y = document.getElementById("rangeY").value;
        const z = document.getElementById("rangeZ").value;
        const a = document.getElementById("rangeDeg").value;
        const elements = document.getElementsByClassName('book');
        for (const e of elements) {
          e.style.transform=`rotate3d(${x}, ${y}, ${z}, ${a}deg)`;
          // console.log(x,y,z,a);

        }
        
        // transform: rotate3d(1, 1, 1, 45deg);
        }
        // copy book
        const book = document.querySelector('.article-book');
        for (let i = 0; i < 100; i++) {
          const cloneBook = book.cloneNode(true);
          book.after(cloneBook)   
        }
      </script>
</body>
</html>